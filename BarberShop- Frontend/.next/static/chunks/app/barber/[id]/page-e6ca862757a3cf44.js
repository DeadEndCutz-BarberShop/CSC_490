(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[683],{6591:function(e,t,i){Promise.resolve().then(i.bind(i,1926))},3409:function(e,t,i){"use strict";var r=i(891);t.Z=void 0;var n=r(i(9438)),o=i(7437);t.Z=(0,n.default)((0,o.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox")},8963:function(e,t,i){"use strict";var r=i(891);t.Z=void 0;var n=r(i(9438)),o=i(7437);t.Z=(0,n.default)((0,o.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank")},3340:function(e,t,i){"use strict";i.d(t,{Z:function(){return m}});var r=i(444),n=i(2110),o=i(2265),l=i(3167),a=i(6860),s=i(3043),c=i(8836),d=i(8399),x=i(7520);function h(e){return(0,x.ZP)("MuiCardMedia",e)}(0,d.Z)("MuiCardMedia",["root","media","img"]);var u=i(7437);let p=["children","className","component","image","src","style"],A=e=>{let{classes:t,isMediaComponent:i,isImageComponent:r}=e;return(0,a.Z)({root:["root",i&&"media",r&&"img"]},h,t)},g=(0,c.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e,{isMediaComponent:r,isImageComponent:n}=i;return[t.root,r&&t.media,n&&t.img]}})(e=>{let{ownerState:t}=e;return(0,n.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})}),v=["video","audio","picture","iframe","img"],f=["picture","img"];var m=o.forwardRef(function(e,t){let i=(0,s.Z)({props:e,name:"MuiCardMedia"}),{children:o,className:a,component:c="div",image:d,src:x,style:h}=i,m=(0,r.Z)(i,p),Z=-1!==v.indexOf(c),b=!Z&&d?(0,n.Z)({backgroundImage:'url("'.concat(d,'")')},h):h,j=(0,n.Z)({},i,{component:c,isMediaComponent:Z,isImageComponent:-1!==f.indexOf(c)}),w=A(j);return(0,u.jsx)(g,(0,n.Z)({className:(0,l.Z)(w.root,a),as:c,role:!Z&&d?"img":void 0,ref:t,style:b,ownerState:j,src:Z?d||x:void 0},m,{children:o}))})},8129:function(e,t,i){"use strict";var r=i(444),n=i(2110),o=i(2265),l=i(3167),a=i(6860),s=i(1869),c=i(8836),d=i(3043),x=i(5625),h=i(7437);let u=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],p=e=>{let{absolute:t,children:i,classes:r,flexItem:n,light:o,orientation:l,textAlign:s,variant:c}=e;return(0,a.Z)({root:["root",t&&"absolute",c,o&&"light","vertical"===l&&"vertical",n&&"flexItem",i&&"withChildren",i&&"vertical"===l&&"withChildrenVertical","right"===s&&"vertical"!==l&&"textAlignRight","left"===s&&"vertical"!==l&&"textAlignLeft"],wrapper:["wrapper","vertical"===l&&"wrapperVertical"]},x.V,r)},A=(0,c.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.absolute&&t.absolute,t[i.variant],i.light&&t.light,"vertical"===i.orientation&&t.vertical,i.flexItem&&t.flexItem,i.children&&t.withChildren,i.children&&"vertical"===i.orientation&&t.withChildrenVertical,"right"===i.textAlign&&"vertical"!==i.orientation&&t.textAlignRight,"left"===i.textAlign&&"vertical"!==i.orientation&&t.textAlignLeft]}})(e=>{let{theme:t,ownerState:i}=e;return(0,n.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},i.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},i.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,s.Fq)(t.palette.divider,.08)},"inset"===i.variant&&{marginLeft:72},"middle"===i.variant&&"horizontal"===i.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===i.variant&&"vertical"===i.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===i.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},i.flexItem&&{alignSelf:"stretch",height:"auto"})},e=>{let{ownerState:t}=e;return(0,n.Z)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}})},e=>{let{theme:t,ownerState:i}=e;return(0,n.Z)({},i.children&&"vertical"!==i.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider)}})},e=>{let{theme:t,ownerState:i}=e;return(0,n.Z)({},i.children&&"vertical"===i.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider)}})},e=>{let{ownerState:t}=e;return(0,n.Z)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})}),g=(0,c.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.wrapper,"vertical"===i.orientation&&t.wrapperVertical]}})(e=>{let{theme:t,ownerState:i}=e;return(0,n.Z)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===i.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})}),v=o.forwardRef(function(e,t){let i=(0,d.Z)({props:e,name:"MuiDivider"}),{absolute:o=!1,children:a,className:s,component:c=a?"div":"hr",flexItem:x=!1,light:v=!1,orientation:f="horizontal",role:m="hr"!==c?"separator":void 0,textAlign:Z="center",variant:b="fullWidth"}=i,j=(0,r.Z)(i,u),w=(0,n.Z)({},i,{absolute:o,component:c,flexItem:x,light:v,orientation:f,role:m,textAlign:Z,variant:b}),y=p(w);return(0,h.jsx)(A,(0,n.Z)({as:c,className:(0,l.Z)(y.root,s),role:m,ref:t,ownerState:w},j,{children:a?(0,h.jsx)(g,{className:y.wrapper,ownerState:w,children:a}):null}))});v.muiSkipListHighlight=!0,t.Z=v},1926:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return k}});var r=i(7437),n=i(4598),o=i(304),l=i(6285),a=i(9835),s=i(2265),c=i(828),d=i(8638),x=i(9704),h=i(1761),u=i(7908),p=i(7907),A=i(1897),g=i(8129),v=i(703),f=i(774),m=i(2670),Z=i(1343),b=i(3361),j=i(8031);i(3407);var w=i(6635),y=i(8963),C=i(3409);y.Z,C.Z;let B={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"100%",sm:500,md:600},height:{xs:"100%",sm:"auto"},bgcolor:"background.paper",border:"1px solid #000",boxShadow:24,p:4};function S(e){var t,i,n;let{open:x,handleClose:h,barberDetails:p,booking:v}=e,{register:f,handleSubmit:y,reset:C,setError:S,watch:k,setValue:D,clearErrors:I,formState:{errors:P}}=(0,m.cI)({}),[M,E]=s.useState(!1),R=(0,c.I0)(),[W,Q]=s.useState([]),[H,L]=s.useState([]),[N,T]=s.useState(0),F=e=>{I(),Q(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};s.useEffect(()=>{T(W.reduce((e,t)=>e+t.price,0))},[W]);let z=async e=>{if(console.log(null==e?void 0:e.date),0===W.length){S("services",{type:"manual",message:"Please select at least one service."});return}if(I("services"),0===H.length){S("hours",{type:"manual",message:"Please select at least one hour."});return}I("hours"),E(!0);let t=(0,A.e)("access_token");try{let i=await u.Z.post("".concat("http://localhost:4000","/bookings"),{...e,bookedHours:H,services:W,barberId:null==p?void 0:p.id},{headers:{Authorization:"Bearer ".concat(t)}});(0,w.B)(i.data.message||"Booking added successfully","success"),C(),R((0,d.BT)()),h()}catch(t){var i,r;console.log(t);let e=(null==t?void 0:null===(r=t.response)||void 0===r?void 0:null===(i=r.data)||void 0===i?void 0:i.message)||"Error while bookeing";(0,w.B)(e,"error")}finally{E(!1)}},V=e=>{I(),H.includes(e)?L(H.filter(t=>t!==e)):L([...H,e])};return(0,r.jsx)(b.Z,{open:x,onClose:h,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(o.Z,{sx:B,children:[(0,r.jsx)(a.Z,{variant:"h5",children:v?"Edit Booking":"Add Booking"}),(0,r.jsx)(o.Z,{fontSize:"26px",position:"absolute",top:"20px",right:"20px",onClick:h,sx:{cursor:"pointer"},children:"x"}),(0,r.jsxs)("form",{onSubmit:y(z),children:[(0,r.jsx)(a.Z,{variant:"h6",mt:2,children:"Choose date:"}),(0,r.jsx)(Z.Z,{label:"Date",fullWidth:!0,type:"date",margin:"normal",...f("date",{required:"Date is required"}),inputProps:{min:(()=>{let e=new Date,t=e.getFullYear(),i=e.getMonth()+1,r=e.getDate();return i=i<10?"0".concat(i):i,r=r<10?"0".concat(r):r,"".concat(t,"-").concat(i,"-").concat(r)})()},error:!!P.date,helperText:P.date?null===(t=P.date)||void 0===t?void 0:t.message:""}),(0,r.jsx)(a.Z,{variant:"h6",mt:2,children:"Choose Services:"}),(0,r.jsx)(o.Z,{display:"flex",flexDirection:"row",gap:2,flexWrap:"nowrap",overflow:"auto",mt:2,children:null==p?void 0:null===(i=p.services)||void 0===i?void 0:i.map(e=>(0,r.jsx)(o.Z,{bgcolor:W.includes(e)?"#bbdefb":"",color:"primary",onClick:()=>F(e),sx:{mr:1,cursor:"pointer"},border:"1px solid",borderColor:"#bbdefb",borderRadius:"10px",flexGrow:1,children:(0,r.jsxs)(o.Z,{textAlign:"center",display:"flex",alignItems:"center",flexDirection:"column",p:1,children:[(0,r.jsx)(j.Z,{alt:null==e?void 0:e.name,src:"data:image/jpeg;base64,".concat(null==e?void 0:e.servicePic),sx:{width:56,height:56}}),(0,r.jsx)(o.Z,{whiteSpace:"nowrap",children:e.title}),(0,r.jsxs)(o.Z,{children:["$",null==e?void 0:e.price]})]})},e.id))}),P.services&&(0,r.jsx)(a.Z,{sx:{mt:1},variant:"body2",color:"error",children:P.services.message}),(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(a.Z,{variant:"h6",mt:2,children:"Available Time:"}),(0,r.jsx)(o.Z,{display:"flex",flexWrap:"wrap",sx:{maxHeight:{xs:200,md:"100%"},overflow:"auto",mt:2},children:null==p?void 0:null===(n=p.availableHours)||void 0===n?void 0:n.map(e=>(0,r.jsx)(l.Z,{variant:H.includes(e)?"contained":"outlined",sx:{borderRadius:"10%",minWidth:0,margin:"4px"},onClick:()=>V(e),children:e},e))}),(0,r.jsx)(o.Z,{mt:1,children:P.hours&&(0,r.jsx)(a.Z,{variant:"body2",color:"error",children:P.hours.message})})]}),(0,r.jsxs)(o.Z,{mt:2,children:[(0,r.jsx)(a.Z,{variant:"h6",mb:1,children:"Payment Summary"}),(0,r.jsx)(o.Z,{display:"flex",flexDirection:"column",gap:1,children:W.map(e=>(0,r.jsxs)(o.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,bgcolor:"#bbdefb",borderRadius:"10px",children:[(0,r.jsx)(a.Z,{fontWeight:500,children:e.title}),(0,r.jsxs)(a.Z,{fontWeight:700,children:["$",e.price]})]},e.id))}),(0,r.jsx)(g.Z,{sx:{mt:3}}),(0,r.jsxs)(o.Z,{display:"flex",justifyContent:"space-between",mt:1,px:2,children:[(0,r.jsx)(a.Z,{variant:"h6",children:"Total Due:"}),(0,r.jsxs)(a.Z,{variant:"h6",children:["$",N]})]})]}),(0,r.jsx)(l.Z,{type:"submit",variant:"contained",color:"primary",sx:{marginTop:"20px"},children:v?"Update Booking":"Add Booking"})]})]})})}function k(){var e,t,i;let[m,Z]=(0,s.useState)(!1),[b,j]=(0,s.useState)(!1),[w,y]=(0,s.useState)(null),C=(0,c.I0)(),B=(0,c.v9)(e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.user}),{id:k}=(0,p.useParams)();(0,s.useEffect)(()=>{B||C((0,d.BT)())},[B,C]),(0,s.useEffect)(()=>{D()},[]);let D=async()=>{try{let e=(0,A.e)("access_token");j(!0);let{data:t}=await u.Z.get("".concat("http://localhost:4000","/auth/").concat(k,"/baber-details"),{headers:{Authorization:"Bearer ".concat(e)}});y(t)}catch(e){console.error("Error fetching barber details:",e)}finally{j(!1)}};return b?(0,r.jsx)(x.Z,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{user:B}),(0,r.jsx)(S,{handleClose:()=>Z(!1),open:m,barberDetails:w}),(0,r.jsx)(n.Z,{style:{paddingTop:"30px",paddingBottom:"30px"},maxWidth:"2xl",children:(0,r.jsxs)(n.Z,{maxWidth:"xl",sx:{mt:{xs:"20px",md:"40px"}},children:[B&&(null==w?void 0:w.services)&&(null==w?void 0:w.availableHours)&&(0,r.jsx)(o.Z,{display:"flex",justifyContent:"flex-end",mb:2,children:(0,r.jsx)(l.Z,{variant:"contained",onClick:()=>Z(!0),children:"Book now"})}),(0,r.jsxs)(o.Z,{display:"flex",gap:"20px",sx:{flexDirection:{xs:"column",md:"row"}},justifyContent:"center",w:"100%",children:[(0,r.jsxs)(o.Z,{bgcolor:"grey.300",sx:{borderRadius:"10px"},flex:.8,children:[(0,r.jsx)(a.Z,{variant:"h4",sx:{px:"20px",py:"10px"},children:"Profile"}),(0,r.jsx)(g.Z,{}),(null==w?void 0:w.profilePic)?(0,r.jsx)(v.default,{src:"data:image/jpeg;base64,".concat(null==w?void 0:w.profilePic),width:200,height:300,objectFit:"cover",alt:"profile",style:{marginTop:"20px",display:"flex",justifyContent:"center",width:"100%",borderRadius:"20px",padding:"10px"}}):(0,r.jsx)(v.default,{src:"/dummyuser.png",width:200,height:300,objectFit:"cover",alt:"profile",style:{marginTop:"20px",display:"flex",justifyContent:"center",width:"100%"}}),(0,r.jsxs)(o.Z,{sx:{p:"30px",display:"flex",gap:"5px",flexDirection:"column"},children:[(0,r.jsxs)(o.Z,{sx:{display:"flex",gap:"5px"},children:[(0,r.jsx)(o.Z,{sx:{fontWeight:500},children:"Name: "}),(0,r.jsxs)(o.Z,{children:[(null==w?void 0:w.firstName)||"Not Set",null==w?void 0:w.lastName]})]}),(0,r.jsxs)(o.Z,{sx:{display:"flex",gap:"5px"},children:[(0,r.jsx)(o.Z,{sx:{fontWeight:500},children:"Location: "}),(0,r.jsx)(o.Z,{children:(null==w?void 0:w.location)||"Not Set"})]}),(0,r.jsxs)(o.Z,{sx:{display:"flex",gap:"5px"},children:[(0,r.jsx)(o.Z,{sx:{fontWeight:500},children:"Phone: "}),(0,r.jsx)(o.Z,{children:(null==w?void 0:w.phone)||"Not Set"})]}),(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(o.Z,{sx:{fontWeight:500,mb:1},children:"Available Hours: "}),(0,r.jsx)(o.Z,{display:"flex",flexWrap:"wrap",children:null==w?void 0:null===(e=w.availableHours)||void 0===e?void 0:e.map(e=>(0,r.jsx)(o.Z,{sx:{borderRadius:"10%",minWidth:0,margin:"4px"},bgcolor:"white",p:1,children:e},e))})]})]})]}),(0,r.jsxs)(o.Z,{sx:{flexGrow:"1",borderRadius:"10px"},bgcolor:"grey.300",children:[(0,r.jsx)(a.Z,{sx:{px:"20px",py:"10px"},variant:"h4",children:"Services"}),(0,r.jsx)(g.Z,{}),(0,r.jsxs)(o.Z,{display:"flex",flexDirection:"column",gap:"20px",mt:"20px",p:"20px",children:[null==w?void 0:null===(t=w.services)||void 0===t?void 0:t.map(e=>(0,r.jsx)(f.Z,{service:e})),!(null==w?void 0:null===(i=w.services)||void 0===i?void 0:i.length)&&(0,r.jsx)(a.Z,{variant:"h6",children:"Not any services"})]})]})]})]})})]})}},6635:function(e,t,i){"use strict";i.d(t,{B:function(){return n}});var r=i(3407);let n=(e,t)=>(0,r.toast)(e,{type:t,position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!1,draggable:!0,theme:"light",transition:r.Bounce})},774:function(e,t,i){"use strict";i.d(t,{Z:function(){return x}});var r=i(7437),n=i(304),o=i(5195),l=i(3340),a=i(5996),s=i(9835);i(2265);var c=i(703),d=i(8145);function x(e){let{service:t}=e;return(0,r.jsx)(n.Z,{sx:{width:"100%",bgcolor:"white",transition:"transform 0.3s ease-in-out",textDecoration:"none","&:hover":{transform:"scale(1.02)"}},children:(0,r.jsxs)(o.Z,{sx:{display:"flex",alignItems:{xs:"",md:"center"},flexDirection:{xs:"column",sm:"row"}},children:[(null==t?void 0:t.servicePic)?(0,r.jsx)(l.Z,{title:"Barber's Profile Picture",image:"data:image/jpeg;base64,".concat(null==t?void 0:t.servicePic),sx:{backgroundSize:"cover",height:"200px",width:"400px"}}):(0,r.jsx)(c.default,{alt:"Default ",src:d.Z,width:400,height:200,objectFit:"cover"}),(0,r.jsxs)(a.Z,{sx:{flex:"1 0 auto",display:"flex",flexDirection:"column",gap:"5px"},children:[(0,r.jsx)(s.Z,{component:"div",variant:"h5",children:null==t?void 0:t.title}),(0,r.jsx)(s.Z,{variant:"subtitle1",color:"text.secondary",component:"div",children:null==t?void 0:t.description}),(0,r.jsx)(s.Z,{component:"div",variant:"h6",children:null==t?void 0:t.price}),(0,r.jsx)(n.Z,{sx:{display:"flex",alignItems:"center",gap:"5px",mt:"5px"}})]})]})})}},8145:function(e,t){"use strict";t.Z={src:"/_next/static/media/dummyservice.e552a8e8.jpg",height:2339,width:3508,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAUACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAJwj/8QAHBAAAgICAwAAAAAAAAAAAAAAAgMBBAASBRRh/9oACAEBAAE/ALXPWAZKlrAS62+/s5//xAAYEQACAwAAAAAAAAAAAAAAAAAAAQMSMf/aAAgBAgEBPwCJKuH/xAAZEQABBQAAAAAAAAAAAAAAAAABAAMSIUH/2gAIAQMBAT8AeJkLxf/Z",blurWidth:8,blurHeight:5}}},function(e){e.O(0,[470,565,688,174,181,546,298,929,747,971,69,744],function(){return e(e.s=6591)}),_N_E=e.O()}]);
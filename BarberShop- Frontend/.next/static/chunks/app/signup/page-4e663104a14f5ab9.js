(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{4184:function(e,i,s){Promise.resolve().then(s.bind(s,1315))},1315:function(e,i,s){"use strict";s.r(i);var l=s(7437),r=s(2265),t=s(2670),a=s(8031),o=s(6285),n=s(1343),d=s(5749),u=s(8148),c=s(6245),m=s(2508),p=s(304),h=s(9835),x=s(8792),g=s(703),f=s(9083),v=s(859),Z=s(6608),j=s(5915),b=s(3407),A=s(7908),w=s(7907);i.default=function(){var e,i,s;let{register:P,handleSubmit:y,watch:N,reset:C,control:D,formState:{errors:q}}=(0,t.cI)({defaultValues:{role:"",firstName:"",lastName:"",email:"",password:"",location:"",phone:"",profilePic:""}}),[k,I]=r.useState(!1),L="http://localhost:4000",[F,S]=r.useState(null),U=(0,w.useRouter)(),E=N("profilePic");r.useEffect(()=>{if(E){let e=new FileReader;e.onloadend=()=>{S(e.result)},e.readAsDataURL(E[0])}else S(null)},[E]);let O=async e=>{var i,s,l,r,t,a,o;I(!0);let n=new FormData;n.append("profilePic",null==e?void 0:e.profilePic[0]),n.append("userEmail",null==e?void 0:e.email);try{let s=await A.Z.post("".concat(L,"/auth/register"),e);await A.Z.post("".concat(L,"/auth/update/profile-pic"),n),(0,b.toast)((null==s?void 0:null===(i=s.data)||void 0===i?void 0:i.message)||"Register and profile picture updated successfully",{type:"success",position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!1,draggable:!0,theme:"light",transition:b.Bounce}),C(),U.push("/")}catch(i){let e=Array.isArray(null==i?void 0:null===(l=i.response)||void 0===l?void 0:null===(s=l.data)||void 0===s?void 0:s.message)?null==i?void 0:null===(t=i.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message[0]:null==i?void 0:null===(o=i.response)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:a.message;(0,b.toast)(e||"Something went wrong",{type:"error",position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!1,draggable:!0,theme:"light",transition:b.Bounce})}finally{I(!1)}};return(0,l.jsxs)(m.ZP,{container:!0,component:"main",sx:{height:"100vh"},children:[(0,l.jsx)(m.ZP,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url('./signinbg.jpg')",backgroundRepeat:"no-repeat",backgroundColor:e=>"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center"}}),(0,l.jsx)(m.ZP,{item:!0,xs:12,sm:8,md:5,component:v.Z,elevation:6,square:!0,minHeight:"100vh",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:(0,l.jsxs)(p.Z,{sx:{mt:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,l.jsx)(g.default,{src:f.Z,width:80,height:80,alt:"logo",priority:!0}),(0,l.jsx)(h.Z,{component:"h1",variant:"h5",children:"Sign up"}),(0,l.jsxs)(p.Z,{component:"form",noValidate:!0,onSubmit:y(O),sx:{mt:3},children:[(0,l.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,l.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,l.jsx)(h.Z,{variant:"body1",fontWeight:500,children:"Profile Picture:"}),(0,l.jsxs)(p.Z,{sx:{position:"relative",marginBottom:2},children:[(0,l.jsx)("input",{type:"file",...P("profilePic",{required:"Profile picture is required"}),accept:"image/*",style:{display:"none"},id:"profilePic"}),(0,l.jsx)("label",{htmlFor:"profilePic",children:(0,l.jsx)(a.Z,{src:F,sx:{width:100,height:100,cursor:"pointer",mt:"10px"},variant:"rounded"})}),(null===(e=q.profilePic)||void 0===e?void 0:e.message)&&(0,l.jsx)(Z.Z,{error:!0,sx:{mt:"10px"},children:q.profilePic.message})]})]}),(0,l.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,l.jsx)(n.Z,{...P("firstName",{required:"First Name is required"}),autoComplete:"given-name",name:"firstName",fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,error:!!q.firstName,helperText:q.firstName?q.firstName.message:""})}),(0,l.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,l.jsx)(n.Z,{...P("lastName",{required:"Last Name is required"}),fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"family-name",error:!!q.lastName,helperText:q.lastName?q.lastName.message:""})}),(0,l.jsx)(m.ZP,{item:!0,xs:12,children:(0,l.jsx)(n.Z,{...P("email",{required:"Email is required"}),fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",error:!!q.email,helperText:q.email?q.email.message:""})}),(0,l.jsxs)(m.ZP,{item:!0,display:"flex",width:"100%",children:[(0,l.jsx)(t.Qr,{name:"phone",control:D,rules:{validate:e=>(0,j.Cs)(e,{onlyCountryies:[],excludedCountryies:[],continents:[]})},render:e=>{let{field:{ref:i,value:s,...r},fieldState:t}=e;return(0,l.jsx)(j.Kr,{...r,value:null!=s?s:"",inputRef:i,helperText:t.invalid?"Tel is invalid":"",error:t.invalid,placeholder:"+1 336 9012321",sx:{width:"100%"}})}}),(null===(i=q.phone)||void 0===i?void 0:i.message)&&(0,l.jsx)(Z.Z,{error:!0,sx:{mt:1},children:q.phone.message})]}),(0,l.jsx)(m.ZP,{item:!0,xs:12,children:(0,l.jsx)(n.Z,{...P("password",{required:"Password is required"}),fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",error:!!q.password,helperText:q.password?q.password.message:""})}),(0,l.jsxs)(m.ZP,{item:!0,xs:12,children:["barber"===N("role")&&(0,l.jsx)(m.ZP,{item:!0,xs:12,children:(0,l.jsx)(n.Z,{...P("location"),fullWidth:!0,id:"location",label:"Location",name:"location",autoComplete:"location"})}),(0,l.jsx)(h.Z,{marginTop:"15px",variant:"body1",children:"Select Role:"}),(0,l.jsxs)(c.Z,{row:!0,"aria-label":"role",name:"role",...P("role",{required:"Role is required"}),children:[(0,l.jsx)(d.Z,{value:"user",control:(0,l.jsx)(u.Z,{}),label:"User"}),(0,l.jsx)(d.Z,{value:"barber",control:(0,l.jsx)(u.Z,{}),label:"Barber",...P("role")})]}),(0,l.jsx)(Z.Z,{sx:{color:"red"},children:(null===(s=q.role)||void 0===s?void 0:s.message)?q.role.message:""})]})]}),(0,l.jsx)(o.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:k,children:"Sign Up"}),(0,l.jsx)(m.ZP,{container:!0,justifyContent:"flex-end",children:(0,l.jsx)(m.ZP,{item:!0,children:(0,l.jsx)(x.default,{href:"/signin",passHref:!0,children:(0,l.jsx)(h.Z,{variant:"body2",children:"Already have an account? Sign in"})})})})]})]})})]})}},9083:function(e,i){"use strict";i.Z={src:"/_next/static/media/Logo.6cb2116e.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA50lEQVR42mOYbsLLyMDAwNDsFZbQ5epzv8IndgIDFCg7ZzIxgIAlg5nwlNjkH/dWL/t/Zua0/06KAXMYQiqUGZCA6I7Wtg9/Thz8+3DTuv+ZfmmdDAyp7Awg8H9zOdiKZeUNx5fnF/3f1N79v71xnhIDAwNDUXodM0NlcBsriOPDwGC/JNr+f7szwywQ/8PsvUwMDFDg5zfHujDv4Z6+6otfGsvu38zPvtbIgAxio/dNqil69r+x7PP/juof/2uLn/1nUGLgZ2CAguio7cUJcftfZ6eevVFVeO9BbsbZk1Ze9TwMDAwMAMbrWLCuxjIpAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[106,470,565,688,174,546,298,508,25,333,971,69,744],function(){return e(e.s=4184)}),_N_E=e.O()}]);